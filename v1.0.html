<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>[BETA-1.1] With your Gaa</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link href="https://cdn.bootcss.com/minireset.css/0.0.2/minireset.min.css" rel="stylesheet">
<link href="https://cdn.bootcss.com/element-ui/2.11.1/theme-chalk/index.css" rel="stylesheet">
<style>
  .el-header, .el-footer {
    background-color: #B3C0D1;
    color: #333;
    text-align: center;
    line-height: 60px;
  }
  .el-main {
    background-color: #E9EEF3;
    color: #333;
    text-align: center;
    line-height: 160px;
  }
  [v-cloak] { display: none }
  html,body,#app,.el-container{
    height:100%;
  }
  .tags{
    line-height: 30px;
  }
  .dialog{
    position: relative;
    height: 100%;
    overflow: hidden;
  }
  .dialog-content{
    position: absolute;
    width: 100%;
    bottom: 0;
    transition: all .4s;
  }
  .dialog-content p:last-child{
    color: #333;
    font-size: 18px;
  }
  .dialog-content p{
    color: #999;
    line-height: 24px;
    transition: all .4s;
    text-align: left;
    font-size: 14px;
  }
  .el-message-box{
    width: 220px;
  }
</style>
</head>
<body>

<div id="app" v-cloak>
  <el-container>
    <el-header>[BETA-1.1] With your Gaa</el-header>
    <el-main>
      <el-container>
        <el-header>
          <el-breadcrumb class="tags">
            <el-breadcrumb-item>ç”Ÿå‘½:{{values.heart}}</el-breadcrumb-item>
            <el-breadcrumb-item>çŸ¥è¯†:{{values.knowlege}}</el-breadcrumb-item>
            <el-breadcrumb-item>äººé™…:{{values.social}}</el-breadcrumb-item>
            <el-breadcrumb-item>é‡‘é’±:{{values.money}}</el-breadcrumb-item>
            <el-breadcrumb-item>ç«ç‘°:{{values.rose}}</el-breadcrumb-item>
            <el-breadcrumb-item>æ”»ç•¥åº¦:{{values.gaa_feeling}}</el-breadcrumb-item>
          </el-breadcrumb>
        </el-header>
        <el-main>
          <div class="dialog">
            <div class="dialog-content">
              <p v-for="(text,index) in logs" :key="index">{{text}}</p>
            </div>
          </div>
        </el-main>
        <el-footer style="height:180px;line-height: 48px;">
          <div style="margin: 20px 0" v-show="values.alive">
            <el-button size="small" @click="do_something('work')" plain>å·¥ä½œ</el-button>
            <el-button size="small" @click="do_something('give')" plain>çŒ®èŠ±</el-button>
            <el-button v-if="values.rose>=999" size="small" type="primary" @click="do_something('give999')" plain>çŒ®èŠ±æŸ</el-button>
            <el-button size="small" @click="do_something('buy')" plain>ä¹°èŠ±</el-button>
            <el-button size="small" @click="do_something('god')" plain>æ‹œæœˆè€</el-button>
            <el-button size="small" @click="do_something('social')" plain>ç¤¾äº¤</el-button>
            <el-button size="small" @click="do_something('learn')" plain>å­¦ä¹ </el-button>
            <el-button size="small" @click="do_something('sleep')" plain>ä¼‘æ¯</el-button>
            <el-button size="small" @click="do_something('abandon')" plain>{{ values.is_egoist ? "é€‰æ‹©æ‰“æ‰‹å†²" : "æ”¾å¼ƒæ¸¸æˆ" }}</el-button>
          </div>
          <div style="margin: 20px 0" v-show="!values.alive">
            <el-button size="small" type="primary" @click="init(1)" plain>é‡æ–°å¼€å§‹</el-button>
          </div>
        </el-footer>
      </el-container>
    </el-main>
    <el-footer>Made with ğŸ¶ by <a href="https://inulab.cn">Nocti</a></el-footer>
  </el-container>

</div>


<script src="https://cdn.bootcss.com/vue/2.6.10/vue.min.js"></script>
<script src="https://cdn.bootcss.com/element-ui/2.11.1/index.js"></script>
<script src="https://cdn.bootcss.com/element-ui/2.11.1/locale/zh-CN.min.js"></script>
<script src="v1.0/core.js?v=1.1"></script>
<script>
  Vue.devtools = true;
(function(){
  new Vue({
    el: '#app',
    data: {
      msg: 'Save me please ... - Nocti',
      logs: window.__log,
      step: 0,
      values: {},
      username: "",
      userage: 0
    },
    created(){
      this.open_dialog()
    },
    methods: {
      init(restart){
        if(restart){
          window.__log.splice(0,window.__log.length)
        }
        window._HERO = window.HERO(this.username,this.userage);
        this.render();
      },
      render(){
        this.values = window._HERO.render();
      },
      do_something(behavior){
        window._HERO.do(behavior)
        this.render()
      },
      open_dialog(){
        let name,age;
        this.$prompt('è¯·è¾“å…¥ç©å®¶å§“åï¼Œåªæ”¯æŒå­—æ¯æ•°å­—', 'åˆ›å»ºè§’è‰²', {
          confirmButtonText: 'ç¡®å®š',
          cancelButtonText: 'å–æ¶ˆ',
          inputPattern: /^[a-zA-Z0-9]*$/,
          inputErrorMessage: 'å§“åè¾“å…¥ä¸æ­£ç¡®'
        }).then(({ value })=>{
          let username = value ? value : "";
          this.$prompt('è¯·è¾“å…¥åˆå§‹å¹´é¾„ï¼Œåªæ”¯æŒæ­£æ•´æ•°', 'è®¾ç½®è§’è‰²', {
            confirmButtonText: 'ç¡®å®š',
            cancelButtonText: 'å–æ¶ˆ',
            inputPattern: /^[1-9]\d*$/,
            inputErrorMessage: 'è¿˜èƒ½ä¸èƒ½å¥½å¥½ç©è€äº†ï¼Ÿ'
          }).then(({ value })=>{
            this.userage = value
            this.username = username
            this.init();
          }).catch((e) => {
            console.log(e)
            this.open_dialog()  
          });
        }).catch((e) => {
            console.log(e)
          this.open_dialog()     
        });
      }
    },
  })
})()
</script>
</body>
</html>
